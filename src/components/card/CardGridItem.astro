---
import type { PokeCardMini } from "../../models/PokeCardMini";
import CardActions from "./CardActions.astro";

interface Props {
  card: PokeCardMini | null;
  lang: string;
}

const { card, lang } = Astro.props;

const title = `${card?.localId} - ${card?.name}`;
---

<div
  class="cardItem cardItemEffect"
  data-haveit=""
  data-title={title}
  data-lang=""
  data-type=""
  data-stamp=""
  data-foil=""
>
  <CardActions card={card} lang={lang} />
  <a href={`/card/${card?.id}`}>
    <img
      class="cardItem-image"
      src={card && card.image.low != null
        ? card.image.low
        : "/img/card-not-found.jpg"}
      alt={card ? card?.name : "Card not found"}
      title={card ? card?.name : "Card not found"}
      loading="lazy"
      decoding="async"
      fetchpriority="low"
      sizes="(max-width: 640px) 150px, (max-width: 1024px) 200px, 250px"
      style="background-color: #1f2937;"
    />
  </a>
  <span class="capitalize">
    {title}
  </span>
</div>
