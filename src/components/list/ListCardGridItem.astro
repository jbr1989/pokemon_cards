---
import type { UserListCard } from "../../models/UserListCard";
import ListCardActions from "./ListCardActions.astro";

interface Props {
  listCard: UserListCard | null;
  listType: string;
}

const { listCard, listType } = Astro.props;
---

<div class="cardItem cardItemEffect">
  <ListCardActions listCard={listCard} />

  <div>
    <a href={`/card/${listCard?.cardId}`}>
      <img
        class="cardItem-image"
        src={listCard?.image || "/img/card-not-found.jpg"}
        alt={listCard?.cardId || "Card not found"}
        title={listCard?.cardName || "Card not found"}
        loading="lazy"
        transition:name={`${listCard?.cardId}-image`}
      />

      <div
        class="capitalize grid grid-cols-2 gap-2 items-start px-1"
        style="grid-template-columns: 1fr 35px;"
      >
        <span>
          {listType == "pokedex" ? listCard?.dexId : listCard?.cardId} -
          {listCard?.pokemonName}
        </span>
        <span class="flex flex-nowrap gap-1">
          {
            listCard?.variant != "" && (
              <img
                src={`/img/icon/variant/${listCard?.variant}.png`}
                alt="Variant"
                loading="lazy"
                class="w-[1rem] h-[1rem] mt-1"
                title={listCard?.variant}
              />
            )
          }
          {
            (listCard?.cardName != "" || listCard?.lang != "") && (
              <img
                src={`/img/icon/language/${listCard?.lang}.webp`}
                alt="Language"
                loading="lazy"
                class="w-[1rem] h-[1rem] mt-1"
                title={listCard?.lang}
              />
            )
          }
        </span>
      </div>
    </a>
  </div>
</div>
